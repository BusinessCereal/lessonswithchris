<html>
  <head>
    <style>
      #blah {
       border: 1px solid black;
      }
    </style>
    <script>
      // n is an integer between 0 and 255
      var makeColorComponent = function(n) {
        c= n.toString(16)
        if (c.length < 2)
          c = "0" + c
        return c
      }

      //r,g,b are integers between 0 and 255
      var makeColor = function(r,g,b) {
        return "#" + makeColorComponent(r) + makeColorComponent(g) + makeColorComponent(b)       
      }

      var doit = function() {
        var c = document.getElementById("blah");
        var ctx = c.getContext("2d");
        var pixel = function(x,y,color) {
          ctx.fillStyle = color;
          ctx.fillRect(x*6, y*6, 6, 6);
        }

        for (x=0; x < 100; x++) {
          for (y=0; y < 100; y++) {
            pixel(x,y,makeColor(x,x+y %256,y));
          }
        }
      }
    </script>
  </head>
  <body onload="doit()">
    <canvas id="blah" width="600" height="600"></canvas>
  </body>
</html>
